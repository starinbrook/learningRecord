
微信授权登录

https://www.imooc.com/video/14034

慕课网免费课程，从本课程中学习到的知识点：

1、基于微信公众号的授权登录
   需要一个已经认证的微信公众号，个人申请的订阅号无法认证，也就是说订阅号是没有网页授权这个接口权限的。如果没有认证的公众号，也可以使用公众平台测试账号。
   官方文档：登录公众平台-开发-接口权限-网页账号-网页授权获取用户基本信息
    
	示例代码：samples\WxAuth
      
2、基于微信开放平台的授权登录
   开发步骤与基于微信公众号的授权登录基本一样

3、微信公众平台和微信开发平台的关系
   简单讲，微信公众平台是针对微信公众号（订阅号、服务号、小程序）的管理平台，而微信开放平台管理范围更广，微信开放平台包含了微信公众平台；
   微信开放平台包括：移动应用开放、网站应用开发、公众账号开放（从这里点击链接到的就是微信公众平台）、第三方平台开发

4、微信公众号和微信开放平台的关联整合
   无论是基于微信公众号的授权登录，还是基于微信开放平台的授权登录，在获取用户信息时都会返回一个openid(用户唯一标识)，但是这两种授权获取到的openid并不一样，
   这是因为微信公众号和开放平台是独立的，二者之间并没有关联关系。
   如果要二者产生关联，就需要将微信公众号和微信开放平台进行绑定，具体绑定操作：登录开放平台-管理中心-公众账号-绑定认证公众账号。
   unionid机制：绑定到同一个开放平台下的所有移动应用、网站应用、微信公众号都具备同一个unionid，这种情况下要用unionid作为用户唯一标识。
   
   说明：如果微信公众号没有绑定到开放平台，那么通过微信公众号授权获取到的用户信息中不包括unionid；
         只有将微信公众号绑定到开放平台的情况下，通过微信公众号授权获取到的用户信息中才会包含unionid。
		 
		 
说明：微信授权登录或者QQ授权登录、微博授权登录等第三方开放平台授权登录都是基于OAuth协议实现的
      关于OAuth2.0协议的讲解 在慕课网上有一个不错的免费课程 https://www.imooc.com/learn/557 PHP第三方登录―OAuth2.0协议
	  
	  简单总结下OAuth协议实现开放平台授权登录的三个步骤：
	  步骤一：请求OAuth登录页
	          请求OAuth登录页的同时，我们发送一个自己的地址作为回调地址
	  步骤二：用户使用第三方账号登录并授权
	          用户登录并授权后，微信、QQ或者微博服务器会回调我们的地址，同时发送给我们一个code参数
	  步骤三：返回登录结果
	          我们获取code参数，并使用code参数再次向微信等服务器发起请求获取access_token
			  拿到access_token后我们就可以调用微信等的api获取用户信息